<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net5.0</TargetFramework>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="Microsoft.WinUI" Version="3.0.0-preview2.200713.0" ExcludeAssets="build" />
  </ItemGroup>

  <Target Name="CreateRspFileForCompiler" BeforeTargets="CopyFilesToOutputDirectory">
    <ItemGroup>
      <XamlFile Include="**/*.xaml" />
      <RspLine Include="@(XamlFile->'--xaml:%(Identity)')" />
      <RspLine Include="@(ReferencePath->'--reference:%(Identity)')" />
      <RspLine Include="il" />
      <RspLine Include="-i:$(OutputPath)$(AssemblyName).dll" />
      <RspLine Include="-o:$(OutputPath)compiled/$(AssemblyName).dll" />
    </ItemGroup>
    <WriteLinesToFile Lines="@(RspLine)" File="$(OutputPath)/$(AssemblyName).xaml.rsp" Overwrite="true" />
  </Target>
</Project>
